

<body onLoad="init();">
  <canvas id="canvas">
  </canvas>
</body>

<script>
  function init() {
    var numberofcircles = 40;
    var circles = [];
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');

    var size = 2;
    var width = window.innerWidth - 10;
    var height = window.innerHeight - 10;

    function Circle(speed, size, xPos, yPos) {
        this.speed = speed;
        this.width = size;
        this.xPos = xPos;
        this.yPos = yPos;
        this.speedX=speed;
        this.speedY=speed;

        this.counter = 0;

        var signHelper = Math.floor(Math.random() * 2);

        if (signHelper == 1) {
            this.sign = -1;
        } else {
            this.sign = 1;
        }
    }

    Circle.prototype.update = function () {
      context.beginPath();
      context.fillStyle='#'+(Math.random()*0xFFFFFF<<0).toString(16);
      context.arc(this.xPos,this.yPos,this.width,0,Math.PI*2,true);
      context.closePath();
      context.fill();

      // Boundary Logic
      if(this.xPos<0 || this.xPos>width) this.speedX=-this.speedX;
      if(this.yPos<0 || this.yPos>height) this.speedY=-this.speedY;

      this.xPos+= this.sign * this.speedX;
      this.yPos+= this.sign * this.speedY;
    };

    function resizeCanvas() {
      canvas.width = width;
      canvas.height = height;

      for (var i = 0; i < numberofcircles; i++) {
        var x=Math.floor(Math.random() * width) + 1;
        var y=Math.floor(Math.random() * height) + 1;
        var speed = .2 + Math.random() * 3;

        var circle = new Circle(speed, size, x, y);
        circles.push(circle);
      }

      draw();
    }

    resizeCanvas();

    function draw() {
      context.clearRect(0,0,width,height);

      for (var i = 0; i < circles.length; i++) {
          var myCircle = circles[i];
          myCircle.update();
      }
      requestAnimationFrame(draw);
    }
  }
</script>
